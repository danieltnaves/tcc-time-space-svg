<html>
<head>
	<title>Time Space Diagrams</title>
	<link href='https://fonts.googleapis.com/css?family=Ubuntu+Condensed' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" type="text/css" href="../css/style.css">
	<link rel="stylesheet" type="text/css" href="../css/jquery-linedtextarea.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
	<script src="../js/jquery-linedtextarea.js"></script>
	<script type="text/javascript" src="dist/bundle.js"></script>
	<style>
		#infovis {			
			width:600px;
			height:600px;
			margin:auto;
			overflow:hidden;
		}
	</style>
</head>
<body>
	<div class="header">
		<div class="inner">
			<h1>Diagrams</h1>
			<p>Edit the message log and click "Redraw". Messages have format:</p>
			<p><pre>&lt;source node id&gt; &lt;source node name&gt; -> &lt;dest node id&gt; &lt;dest node name&gt; [-w &lt;line weight&gt;]</pre></p>
			<div class="wrapper-form">
					<p id="err" style="display: none; text-align: left; color: red">Teste</p>
					<textarea id="input-data">
A p1 1-->B p2 3:request
A p3 5-->C p4 7:request
A p5 9-->D p6 11:request
A p7 13-->E p8 15:request
A p9 17-->F p10 19:request
B p11 21-->C p12 23:request
B p13 25-->D p14 27:request
B p15 29-->E p16 31:request
B p17 33-->F p18 35:request
C p19 37-->D p20 39:request
C p21 41-->E p22 43:request
C p23 45-->F p24 47:request
D p25 49-->E p26 51:request
D p27 53-->F p28 55:request
E p29 57-->F p30 59:request</textarea>
					<br />
					<button type="button" class="submit" id="draw">Redraw</button>
			</div>
			
		</div>
	</div>
	<div class="content">
		<div class="inner">
			<div id="infovis"></div>
			<svg id="paper" width="100%" height="100%"></svg>
		</div>
	</div>
	<div class="footer">
		<div class="inner">
			
		</div>
	</div>
	<script type="text/javascript">
		(function() {
			$('#input-data').linedtextarea();

			var diagram = model.Diagram.parse(document.getElementById('input-data').value);
			var parsedElements = diagram.entries;
			//var v = new view.SpaceTimeDraw('#paper', 2, 'black', parsedElements, 'label,contents,animated');
			var v = new view.Hypervis('input-data', 'draw');
			var c = new controller.DiagramController(diagram, v, model.Diagram.parse);
			c.updateView();
		}());
	</script>
</body>
</html>